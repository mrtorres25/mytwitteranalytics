{% extends 'base.html' %}
{% block title %}
    Search Text in Tweets
{% endblock title%}
{% block javascript %}
    <script>
        $(document).ready(function () {
            $('#table_id').DataTable({
                "language": {
                    url: "https://cdn.datatables.net/plug-ins/1.10.12/i18n/Spanish.json"
                }
            });
        });
    </script>
{% endblock javascript %}
{% block content %}
{% if errorcode == 0 %}
    <div class="alert alert-success" role="alert">{{ message }}</div>
{% endif %}
{% if errorcode == -1 %}
    <div class="alert alert-info" role="alert">{{ message }}</div>
{% endif %}
{% if errorcode == 1 %}
<div class="alert alert-danger" role="alert">{{ message }}</div>
{% endif %}
<form id="searchform" action="/get_queryset/" method="get" accept-charset="utf-8">
    <button class="searchbutton" type="submit">
        <i class="fa fa-search"></i>
    </button>
    <input class="searchfield" id="searchbox" name="q" type="text" placeholder="Search in Tweets">
</form>
<table id="table_id" class="display">
    <thead>
    <tr>
        <th>User <i class="fa fa-user" aria-hidden="true"></i></th>
        <th>Tweet <i class="fa fa-twitter" aria-hidden="true"></i></th>
        <th>Hora <i class="fa fa-clock-o" aria-hidden="true"></i></th>
        <th>Retweet <i class="fa fa-retweet" aria-hidden="true"></i></th>
        <th>Me Gusta <i class="fa fa-heart" aria-hidden="true"></i></th>
    </tr>
    </thead>
    <tbody>
    {% for resultado in result_with_text %}
        <tr>
            <td>{{ resultado.user.name }}</td>
            <td>{{ resultado.text }}</td>
            <td>{{ resultado.created_at }}</td>
            <td>{{ resultado.retweet_count }}</td>
            <td>{{ resultado.favorite_count }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock content %}